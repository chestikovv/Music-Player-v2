@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

:root {
    --bg: #121212;
    --panel: #1a1a1a;
    --accent: #ff2d75; /* Этот цвет теперь меняется через JS */
    --text: #ffffff;
    --dim: #a0a0a0;
    transition: --accent 0.3s ease; /* Плавная смена темы */
}

* { box-sizing: border-box; outline: none; }
body { 
    margin: 0; background: var(--bg); color: var(--text); 
    font-family: 'Segoe UI', Roboto, sans-serif; overflow: hidden; 
}

/* Кнопки и иконки */
.btn-icon {
    background: none; border: none; color: var(--dim); 
    cursor: pointer; width: 32px; 
    transition: color 0.3s ease, transform 0.2s;
}

.btn-icon:hover { color: var(--accent); }
#repeat-btn:active { transform: scale(0.9); }

/* Эффект при перетаскивании файлов */
.active-drag {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 2px dashed var(--accent) !important;
}

.app-container { display: flex; height: 100vh; width: 100vw; }

/* Панели */
.sidebar, .tracks-panel {
    width: 300px; padding: 25px; background: rgba(0,0,0,0.4);
    display: flex; flex-direction: column; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.scrollable { flex: 1; overflow-y: auto; margin: 15px 0; padding-right: 5px; }
.scrollable::-webkit-scrollbar { width: 4px; }
.scrollable::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }

/* Центральная часть */
.player-center { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; position: relative; }
.player-ui { width: 100%; max-width: 450px; text-align: center; }

/* Обложка */
.cover-box { 
    position: relative; width: 320px; height: 320px; margin: 0 auto 30px;
    border-radius: 24px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
}
#main-cover { width: 100%; height: 100%; object-fit: cover; }
.cover-overlay {
    position: absolute; inset: 0; background: rgba(0,0,0,0.7);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: 0.3s; cursor: pointer; font-weight: bold;
}
.cover-box:hover .cover-overlay { opacity: 1; }

/* Списки (ТРЕКИ И ПЛЕЙЛИСТЫ) */
.item {
    padding: 14px; border-radius: 12px; margin-bottom: 8px;
    background: rgba(255,255,255,0.03); cursor: grab;
    display: flex; justify-content: space-between; align-items: center;
    transition: 0.2s; font-size: 14px; border: 1px solid transparent;
}

/* ИСПРАВЛЕНО: Цвет при наведении теперь динамический */
.item:hover { 
    background: var(--accent); 
    color: white;
    filter: brightness(1.1);
    border-color: rgba(255, 255, 255, 0.2); 
}

.item.active { background: var(--accent); color: white; font-weight: 600; }
.item.dragging { opacity: 0.4; scale: 0.95; }

/* Управление */
.playback-btns { display: flex; align-items: center; justify-content: center; gap: 30px; margin: 25px 0; }

/* ИСПРАВЛЕНО: Свечение кнопки Play теперь зависит от темы */
.btn-play-pause { 
    width: 70px; height: 70px; border-radius: 50%; background: var(--accent);
    border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 20px var(--accent); 
    transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.btn-play-pause:hover { 
    scale: 1.08; 
    box-shadow: 0 0 30px var(--accent); 
    filter: brightness(1.1);
}

/* Ползунки */
input[type="range"] { accent-color: var(--accent); cursor: pointer; }
.progress-bar-box { display: flex; align-items: center; gap: 15px; width: 100%; margin-bottom: 10px; }
#progress-slider { flex: 1; height: 5px; }
.volume-box { display: flex; align-items: center; justify-content: center; gap: 10px; opacity: 0.6; }

/* Адаптивность */
.mobile-nav { display: none; }
.close-mobile { display: none; background: none; border: none; color: white; font-size: 20px; }

@media (max-width: 900px) {
    .sidebar { position: fixed; left: 0; height: 100%; z-index: 100; transform: translateX(-100%); }
    .tracks-panel { position: fixed; right: 0; height: 100%; width: 100%; z-index: 100; transform: translateX(100%); background: var(--bg); }
    .sidebar.open, .tracks-panel.open { transform: translateX(0); }
    .mobile-nav { display: flex; width: 100%; justify-content: space-between; align-items: center; padding: 20px; position: absolute; top: 0; }
    .close-mobile { display: block; }
    .cover-box { width: 260px; height: 260px; }
}

/* Общие кнопки */
.btn-main { background: var(--accent); color: white; border: none; padding: 12px 20px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: 0.3s; }
.btn-main:hover { filter: brightness(1.1); transform: translateY(-1px); }

.btn-outline { background: transparent; border: 1px solid #333; color: var(--dim); padding: 10px; border-radius: 10px; cursor: pointer; margin-top: 5px; transition: 0.3s; }
.btn-outline:hover { border-color: var(--accent); color: white; }

.full-width { width: 100%; }
.logo { font-weight: 900; letter-spacing: 2px; font-size: 20px; }
.logo span { color: var(--accent); }
.section-header { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--dim); display: flex; justify-content: space-between; }
